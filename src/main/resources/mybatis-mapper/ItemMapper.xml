<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.sample.todo.item.repository.ItemMapper">
    <sql id="searchCnd">
        <if test="userOid != null and userOid != ''">
            AND user_oid = #{userOid}
        </if>

    </sql>


    <insert id="insertItem" parameterType="Item">
        INSERT INTO item ( item_oid, user_oid, contents,  status, input_date_time, mod_date_time, del_date_time )
        VALUES ( #{itemOid}, #{userOid}, #{contents},  #{status}, #{inputDateTime}, #{modDateTime} , #{delDateTime} )
    </insert>

    <update id="updateItem" parameterType="Item">
        UPDATE item
        <trim prefix="SET" suffixOverrides=",">
           <!-- <if test="id != null and id != ''"> id = #{id}, </if>
            <if test="password != null and password != ''"> password = #{password}, </if>
            <if test="email != null and email != ''"> email = #{email}, </if>
            <if test="nickName != null and nickName != ''"> nick_name = #{nickName}, </if>
            <if test="status != null and status != ''"> status = #{status}, </if>-->
        </trim>
        WHERE 1=1
            AND item_oid = #{itemOid}
    </update>

</mapper>